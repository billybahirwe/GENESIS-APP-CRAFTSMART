doctype html
html(lang="en")
  head
    meta(charset="UTF-8")
    meta(name="viewport", content="width=device-width, initial-scale=1.0")
    title CraftSmart - Craftsman Outsourcing Platform
    link(rel="stylesheet", href="/css/style.css")
    script(src="https://cdn.jsdelivr.net/npm/chart.js")
    link(rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css")

    // This block is the placeholder for child templates to add to the head
    block head 
    
  body(class=(path === '/' ? 'homepage' : ''))
    header.header
      .container
        .header-content
          .logo
            a(href="/") CraftSmart
          nav.nav(id="nav")
            ul
              if user
                li
                  a(href=`/${user.role}/dashboard`) Dashboard
                
                if user.role === 'employer'
                  li
                    a(href="/employer/post-job") Post Job
                  li
                    a(href="/employer/browse-craftsmen") Browse Craftsmen
                
                if user.role === 'craftsman'
                  li
                    a(href="/craftsman/profile") My Profile
                
                if user.role === 'admin'
                  li
                    a(href="/admin/blacklist") Admin Blacklist
                
                li
                  a(href="/messages") Messages
                
                // Public blacklist is available to all logged-in users
                li
                  a(href="/public-blacklist") Public Blacklist

                li
                  span.user-info Welcome, #{user.name}
                li
                  a(href="/logout") Logout
              else
                li
                  a(href="/login") Login
                li
                  a(href="/register") Register
                // Public blacklist is also available to guests
                li
                  a(href="/public-blacklist") Public Blacklist
          
          .mobile-menu-toggle(onclick="toggleMobileMenu()")
            span
            span
            span
    
    main.main
      block content
    
    footer.footer
      .container
        p &copy; 2025 CraftSmart. All rights reserved.
    
    script(src="/js/app.js")
    block scripts