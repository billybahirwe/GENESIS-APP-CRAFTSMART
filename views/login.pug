extends layout

block content
  .auth-container
    .auth-card
      h2.auth-title Sign In to CraftSmart
      if error
        .alert.alert-error= error
      form.auth-form(action="/login", method="POST")
        .form-group
          label(for="mobile") Mobile Number
          input.form-control(type="tel", id="mobile", name="mobile", required, placeholder="Enter your mobile number")
        .form-group
          label(for="password") Password
          .password-wrapper
            input.form-control(type="password", id="password", name="password", required, placeholder="Enter your password")
            i.toggle-password.far.fa-eye
        .form-group.remember-me
          // The checkbox and label are now on the same line
          label.checkbox-container
            input(type="checkbox", id="rememberMe", name="rememberMe")
            span.checkmark
            | Remember Me
        button.btn.btn-primary.btn-full(type="submit") Sign In
      .auth-footer
        p Don't have an account? 
          a(href="/register") Sign up here

  script.
    document.addEventListener('DOMContentLoaded', () => {
      const togglePassword = document.querySelector('.toggle-password');
      const passwordInput = document.getElementById('password');

      if (togglePassword && passwordInput) {
        togglePassword.addEventListener('click', () => {
          // Toggle the type attribute
          const type = passwordInput.getAttribute('type') === 'password' ? 'text' : 'password';
          passwordInput.setAttribute('type', type);
          
          // Toggle the eye icon
          togglePassword.classList.toggle('fa-eye-slash');
        });
      }
    });