extends ./layout.pug

block append head
  style.
    .confirmation-container {
      margin: auto;
      padding: 1.5rem;
      background-color: white;
      box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
      border-radius: 0.5rem;
      margin-top: 2rem;
      max-width: 28rem;
    }
    .card {
      background-color: #f7fafc;
      padding: 1.5rem;
      border-radius: 0.5rem;
      box-shadow: inset 0 2px 4px 0 rgba(0, 0, 0, 0.06);
      text-align: center;
    }
    .header {
      font-size: 1.5rem;
      font-weight: 700;
      color: #2d3748;
      margin-bottom: 0.5rem;
    }
    .instructions {
      color: #4a5568;
      margin-bottom: 1rem;
    }
    .spinner {
      display: flex;
      justify-content: center;
      align-items: center;
      padding-top: 1.5rem;
      padding-bottom: 1.5rem;
    }
    .loading-animation {
      animation: spin 1s linear infinite;
      border-radius: 9999px;
      height: 4rem;
      width: 4rem;
      border-top: 4px solid #667eea;
      border-bottom: 4px solid #667eea;
    }
    .status-text {
      color: #a0aec0;
      font-size: 0.875rem;
    }
    .details {
      margin-top: 1.5rem;
      text-align: center;
    }
    .detail-item {
      color: #4a5568;
      font-size: 0.875rem;
      margin-bottom: 0.25rem;
    }
    .action-button {
      display: inline-block;
      margin-top: 1rem;
      padding: 0.5rem 1.5rem;
      background-color: #5a67d8;
      color: #fff;
      font-weight: 600;
      border-radius: 0.5rem;
      transition: background-color 300ms;
    }
    .action-button:hover {
      background-color: #4c51bf;
    }
    .manual-link {
      display: inline-block;
      margin-top: 0.5rem;
      font-size: 0.875rem;
      color: #a0aec0;
      text-decoration: none;
    }
    .manual-link:hover {
      text-decoration: underline;
    }
    @keyframes spin {
      from {
        transform: rotate(0deg);
      }
      to {
        transform: rotate(360deg);
      }
    }

block content
  .confirmation-container
    .card
      h2.header Payment Initiated
      p.instructions Please follow the prompts on your phone to complete the payment.
      
      .spinner
        .loading-animation
      
      p.status-text Waiting for payment confirmation...
        
    .details
      p.detail-item
        strong Transaction Reference:
        span.ml-2 #{transactionRef}
      p.detail-item
        strong Job ID:
        span.ml-2 #{jobId}
      
    a.action-button(href=`/employer/payment-history`) Check Payment History
    a.manual-link(href=`/api/payment/verify-transaction/${transactionRef}`) Manually check status
